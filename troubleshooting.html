

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Troubleshooting &mdash; PyRate 0.4.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="Time Series Module" href="timeseries.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/PyRate_logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    <li><a href="https://geoscienceaustralia.github.io/PyRate/">Home</a></li>
    
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#platforms">Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#verify-installation">Verify Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#input-files">Input Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#parallel-processing">Parallel Processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">PyRate Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyrate.conv2tif.html">PyRate Conv2tif Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyrate.prepifg.html">PyRate Prepifg Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyrate.process.html">PyRate Process Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyrate.merge.html">PyRate Merge Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyrate.__main__.html">PyRate Main Script</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">PyRate Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="algorithm.html">Algorithm Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="aps.html">Atmospheric Phase Screen Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Config Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="covariance.html">Covariance Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gamma.html">GAMMA Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gdal_python.html">GDAL-Python Bindings Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ifgconstants.html">Ifgconstants Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="logger.html">Logging Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mpiops.html">MPI operations Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mst.html">Minimum Spanning Tree Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="orbital.html">Orbital Error Correction Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepifg_helper.html">Prepifg Helper Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ref_phs_est.html">Reference Phase Calculation Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="refpixel.html">Reference Pixel Calculation Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="roipac.html">ROI_PAC Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="shared.html">Shared Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="stack.html">Stacking Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="timeseries.html">Time Series Module</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#corrections-being-skipped">Corrections being skipped</a></li>
<li class="toctree-l2"><a class="reference internal" href="#valueerror-too-many-values-to-unpack-expected-2">ValueError: too many values to unpack (expected 2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stack-rate-map-appears-to-be-blank-empty">Stack Rate map appears to be blank/empty</a></li>
<li class="toctree-l2"><a class="reference internal" href="#failure-of-aps-spatial-low-pass-filter">Failure of APS spatial low pass filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#out-of-memory-errors">Out of memory errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incorrect-modules-loaded-on-gadi">Incorrect modules loaded on Gadi</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#types-of-contributions">Types of Contributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html#pull-request-guidelines">Pull Request Guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="authors.html#development-lead">Development Lead</a></li>
<li class="toctree-l2"><a class="reference internal" href="authors.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Release History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="history.html#id1">0.4.1 (2020-05-19)</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id2">0.4.0 (2019-10-31)</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id6">0.3.0 (2019-07-26)</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id10">0.2.0 (2017-05-22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id11">0.1.0 (2017-01-31)</a></li>
</ul>
</li>
</ul>

            
          

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyRate</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Troubleshooting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="timeseries.html" class="btn btn-neutral float-left" title="Time Series Module" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<p>Some common/known issues with <cite>PyRate</cite> that users may encounter are described below.</p>
<p>If your issue is not covered below, please contact the <a class="reference external" href="mailto:insar&#37;&#52;&#48;ga&#46;gov&#46;au">Geoscience Australia InSAR Team</a> for help.</p>
<div class="section" id="corrections-being-skipped">
<h2>Corrections being skipped<a class="headerlink" href="#corrections-being-skipped" title="Permalink to this headline">¶</a></h2>
<p><strong>Problem</strong>: When running the <code class="docutils literal notranslate"><span class="pre">process</span></code> step, many corrections are reported as <code class="docutils literal notranslate"><span class="pre">Skipped:</span> <span class="pre">interferograms</span> <span class="pre">already</span> <span class="pre">corrected</span></code>, but I want to try different processing parameters!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span> <span class="n">pyrate</span> <span class="n">process</span> <span class="o">-</span><span class="n">f</span> <span class="n">input_parameters</span><span class="o">.</span><span class="n">conf</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">16</span> <span class="n">main</span> <span class="mi">97</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Verbosity</span> <span class="nb">set</span> <span class="n">to</span> <span class="n">INFO</span><span class="o">.</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">16</span> <span class="n">shared</span> <span class="mi">1294</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Running</span> <span class="n">process</span> <span class="n">serially</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">17</span> <span class="n">process</span> <span class="mi">86</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Found</span> <span class="mi">13</span> <span class="n">unique</span> <span class="n">epochs</span> <span class="ow">in</span> <span class="n">the</span> <span class="mi">17</span> <span class="n">interferogram</span> <span class="n">network</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">17</span> <span class="n">process</span> <span class="mi">134</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Searching</span> <span class="k">for</span> <span class="n">best</span> <span class="n">reference</span> <span class="n">pixel</span> <span class="n">location</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">18</span> <span class="n">process</span> <span class="mi">155</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Selected</span> <span class="n">reference</span> <span class="n">pixel</span> <span class="n">coordinate</span><span class="p">:</span> <span class="p">(</span><span class="mi">38</span><span class="p">,</span> <span class="mi">58</span><span class="p">)</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">18</span> <span class="n">process</span> <span class="mi">170</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Calculating</span> <span class="n">orbital</span> <span class="n">correction</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">18</span> <span class="n">shared</span> <span class="mi">1255</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Skipped</span><span class="p">:</span> <span class="n">interferograms</span> <span class="n">already</span> <span class="n">corrected</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">18</span> <span class="n">process</span> <span class="mi">198</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Calculating</span> <span class="n">reference</span> <span class="n">phase</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">19</span> <span class="n">shared</span> <span class="mi">1255</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Skipped</span><span class="p">:</span> <span class="n">interferograms</span> <span class="n">already</span> <span class="n">corrected</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">19</span> <span class="n">process</span> <span class="mi">105</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Calculating</span> <span class="n">minimum</span> <span class="n">spanning</span> <span class="n">tree</span> <span class="n">matrix</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">19</span> <span class="n">process</span> <span class="mi">342</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Calculating</span> <span class="n">the</span> <span class="n">temporal</span> <span class="n">variance</span><span class="o">-</span><span class="n">covariance</span> <span class="n">matrix</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">20</span> <span class="n">process</span> <span class="mi">391</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Calculating</span> <span class="n">time</span> <span class="n">series</span> <span class="n">using</span> <span class="n">SVD</span> <span class="n">method</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">20</span> <span class="n">timeseries</span> <span class="mi">152</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Calculating</span> <span class="n">timeseries</span> <span class="ow">in</span> <span class="n">serial</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">21</span> <span class="n">process</span> <span class="mi">323</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Calculating</span> <span class="n">rate</span> <span class="nb">map</span> <span class="kn">from</span> <span class="nn">stacking</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">21</span> <span class="n">process</span> <span class="mi">326</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Stacking</span> <span class="n">of</span> <span class="n">tile</span> <span class="mi">0</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">21</span> <span class="n">stack</span> <span class="mi">64</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">Calculating</span> <span class="n">stack</span> <span class="n">rate</span> <span class="ow">in</span> <span class="n">serial</span>
<span class="mi">16</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">21</span> <span class="n">process</span> <span class="mi">314</span> <span class="mi">24732</span> <span class="n">INFO</span> <span class="mi">0</span><span class="o">/</span><span class="mi">0</span> <span class="n">PyRate</span> <span class="n">workflow</span> <span class="n">completed</span>
</pre></div>
</div>
<p><strong>Reason</strong>: <cite>PyRate</cite> updates the phase values in the input interferogram geotiff files as corrections are applied during the <code class="docutils literal notranslate"><span class="pre">process</span></code> step. Metadata is then added to the geotiff header to indicate the correction has been applied. This metadata is then checked upon subsequent runs to see if the correction should be applied.</p>
<p><strong>Solution</strong>: Start again from <code class="docutils literal notranslate"><span class="pre">prepifg</span></code> step, creating new cropped/multi-looked interferograms that have not been corrected.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We plan to change this workflow behaviour in a future <cite>PyRate</cite> release, recognising that
it would be convenient to be able to quickly test the impact of parameter changes.</p>
</div>
</div>
<div class="section" id="valueerror-too-many-values-to-unpack-expected-2">
<h2>ValueError: too many values to unpack (expected 2)<a class="headerlink" href="#valueerror-too-many-values-to-unpack-expected-2" title="Permalink to this headline">¶</a></h2>
<p><strong>Problem</strong>: During <code class="docutils literal notranslate"><span class="pre">prepifg</span></code> step, the following error is encountered:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;pyrate/main.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">131</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">main</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;pyrate/main.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">103</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span>
    <span class="n">prepifg</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/pyrate/prepifg.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">57</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span>
    <span class="n">do_prepifg</span><span class="p">(</span><span class="n">gtiff_paths</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/pyrate/prepifg.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">88</span><span class="p">,</span> <span class="ow">in</span> <span class="n">do_prepifg</span>
    <span class="n">_prepifg_multiprocessing</span><span class="p">(</span><span class="n">gtiff_path</span><span class="p">,</span> <span class="n">xlooks</span><span class="p">,</span> <span class="n">ylooks</span><span class="p">,</span> <span class="n">exts</span><span class="p">,</span> <span class="n">thresh</span><span class="p">,</span> <span class="n">crop</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/pyrate/prepifg.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">112</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_prepifg_multiprocessing</span>
    <span class="n">coherence_path</span><span class="o">=</span><span class="n">coherence_path</span><span class="p">,</span> <span class="n">coherence_thresh</span><span class="o">=</span><span class="n">coherence_thresh</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/pyrate/core/prepifg_helper.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">187</span><span class="p">,</span> <span class="ow">in</span> <span class="n">prepare_ifg</span>
    <span class="n">op</span> <span class="o">=</span> <span class="n">output_tiff_filename</span><span class="p">(</span><span class="n">raster</span><span class="o">.</span><span class="n">data_path</span><span class="p">,</span> <span class="n">out_path</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/pyrate/core/shared.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1222</span><span class="p">,</span> <span class="ow">in</span> <span class="n">output_tiff_filename</span>
    <span class="n">fname</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">inpath</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">too</span> <span class="n">many</span> <span class="n">values</span> <span class="n">to</span> <span class="n">unpack</span> <span class="p">(</span><span class="n">expected</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Reason</strong>: This is caused by multiple double dots being used in the file names.</p>
<p><strong>Solution</strong>: Ensure only a single dot is given in the file names, delimiting the file extension.
For example, rename <code class="docutils literal notranslate"><span class="pre">20151219-20160112.unw.tif</span></code> to <code class="docutils literal notranslate"><span class="pre">20151219-20160112_unw.tif</span></code>.</p>
</div>
<div class="section" id="stack-rate-map-appears-to-be-blank-empty">
<h2>Stack Rate map appears to be blank/empty<a class="headerlink" href="#stack-rate-map-appears-to-be-blank-empty" title="Permalink to this headline">¶</a></h2>
<p><strong>Problem</strong>: Output of Stack Rate algorithm contains NaN values causing “merge“ to fail:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/bin/pyrate&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">11</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span> <span class="n">load_entry_point</span><span class="p">(</span><span class="s1">&#39;Py-Rate==0.4.0&#39;</span><span class="p">,</span> <span class="s1">&#39;console_scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;pyrate&#39;</span><span class="p">)()</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/main.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">154</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span> <span class="n">merge_handler</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">config_file</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/main.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">87</span><span class="p">,</span> <span class="ow">in</span> <span class="n">merge_handler</span> <span class="n">merge</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/merge.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">64</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span> <span class="n">create_png_from_tif</span><span class="p">(</span><span class="n">output_folder_path</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/merge.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">130</span><span class="p">,</span> <span class="ow">in</span> <span class="n">create_png_from_tif</span> <span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stddev</span> <span class="o">=</span> <span class="n">srcband</span><span class="o">.</span><span class="n">GetStatistics</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;/apps/gdal/3.0.2/lib/python3.7/site-packages/osgeo/gdal.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">2610</span><span class="p">,</span> <span class="ow">in</span> <span class="n">GetStatistics</span> <span class="k">return</span> <span class="n">_gdal</span><span class="o">.</span><span class="n">Band_GetStatistics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="o">~/</span><span class="n">out</span><span class="o">/</span><span class="n">stack_rate</span><span class="o">.</span><span class="n">tif</span><span class="p">,</span> <span class="n">band</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">compute</span> <span class="n">statistics</span><span class="p">,</span> <span class="n">no</span> <span class="n">valid</span> <span class="n">pixels</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">sampling</span><span class="o">.</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/bin/pyrate&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">11</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span> <span class="n">load_entry_point</span><span class="p">(</span><span class="s1">&#39;Py-Rate==0.4.0&#39;</span><span class="p">,</span> <span class="s1">&#39;console_scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;pyrate&#39;</span><span class="p">)()</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/main.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">154</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span> <span class="n">merge_handler</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">config_file</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/main.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">87</span><span class="p">,</span> <span class="ow">in</span> <span class="n">merge_handler</span> <span class="n">merge</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/merge.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">64</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span> <span class="n">create_png_from_tif</span><span class="p">(</span><span class="n">output_folder_path</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/merge.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">130</span><span class="p">,</span> <span class="ow">in</span> <span class="n">create_png_from_tif</span> <span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stddev</span> <span class="o">=</span> <span class="n">srcband</span><span class="o">.</span><span class="n">GetStatistics</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;/apps/gdal/3.0.2/lib/python3.7/site-packages/osgeo/gdal.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">2610</span><span class="p">,</span> <span class="ow">in</span> <span class="n">GetStatistics</span> <span class="k">return</span> <span class="n">_gdal</span><span class="o">.</span><span class="n">Band_GetStatistics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="o">~/</span><span class="n">out</span><span class="o">/</span><span class="n">stack_rate</span><span class="o">.</span><span class="n">tif</span><span class="p">,</span> <span class="n">band</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">compute</span> <span class="n">statistics</span><span class="p">,</span> <span class="n">no</span> <span class="n">valid</span> <span class="n">pixels</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">sampling</span><span class="o">.</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/bin/pyrate&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">11</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span> <span class="n">load_entry_point</span><span class="p">(</span><span class="s1">&#39;Py-Rate==0.4.0&#39;</span><span class="p">,</span> <span class="s1">&#39;console_scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;pyrate&#39;</span><span class="p">)()</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/main.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">154</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span> <span class="n">merge_handler</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">config_file</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/main.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">87</span><span class="p">,</span> <span class="ow">in</span> <span class="n">merge_handler</span> <span class="n">merge</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/merge.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">64</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span> <span class="n">create_png_from_tif</span><span class="p">(</span><span class="n">output_folder_path</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.7/site-packages/Py_Rate-0.4.0-py3.7.egg/merge.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">130</span><span class="p">,</span> <span class="ow">in</span> <span class="n">create_png_from_tif</span> <span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span> <span class="n">stddev</span> <span class="o">=</span> <span class="n">srcband</span><span class="o">.</span><span class="n">GetStatistics</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;/apps/gdal/3.0.2/lib/python3.7/site-packages/osgeo/gdal.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">2610</span><span class="p">,</span> <span class="ow">in</span> <span class="n">GetStatistics</span> <span class="k">return</span> <span class="n">_gdal</span><span class="o">.</span><span class="n">Band_GetStatistics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="o">~/</span><span class="n">out</span><span class="o">/</span><span class="n">stack_rate</span><span class="o">.</span><span class="n">tif</span><span class="p">,</span> <span class="n">band</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">compute</span> <span class="n">statistics</span><span class="p">,</span> <span class="n">no</span> <span class="n">valid</span> <span class="n">pixels</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">sampling</span><span class="o">.</span>
</pre></div>
</div>
<p><strong>Reason</strong>: The <code class="docutils literal notranslate"><span class="pre">maxsig</span></code> parameter is too low, resulting in stack rate values being replaced by NaNs. <code class="docutils literal notranslate"><span class="pre">maxsig</span></code> is a threshold for masking stack rate pixels according to the corresponding stack error estimate saved in <code class="docutils literal notranslate"><span class="pre">out/tmpdir/stack_error_*.npy</span></code>.</p>
<p><strong>Solution</strong>: Increase <code class="docutils literal notranslate"><span class="pre">maxsig</span></code>, then re-run <code class="docutils literal notranslate"><span class="pre">process</span></code> and <code class="docutils literal notranslate"><span class="pre">merge</span></code> steps. Maximum permittable value for <code class="docutils literal notranslate"><span class="pre">maxsig</span></code> is 1000 mm.</p>
</div>
<div class="section" id="failure-of-aps-spatial-low-pass-filter">
<h2>Failure of APS spatial low pass filter<a class="headerlink" href="#failure-of-aps-spatial-low-pass-filter" title="Permalink to this headline">¶</a></h2>
<p><strong>Problem</strong>: Atmospheric corrections during “process“ fails due to the interpolated grid used for correction being empty:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="mi">8</span><span class="n">s</span> <span class="n">pyrate</span><span class="o">.</span><span class="n">aps</span><span class="p">:</span><span class="n">INFO</span> <span class="n">Applying</span> <span class="n">spatial</span> <span class="n">low</span> <span class="k">pass</span> <span class="nb">filter</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/bin/pyrate&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">11</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="n">load_entry_point</span><span class="p">(</span><span class="s1">&#39;Py-Rate==0.3.0.post3&#39;</span><span class="p">,</span> <span class="s1">&#39;console_scripts&#39;</span><span class="p">,</span> <span class="s1">&#39;pyrate&#39;</span><span class="p">)()</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Click-7.0-py3.6.egg/click/core.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">764</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__call__</span>
<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Click-7.0-py3.6.egg/click/core.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">717</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span>
<span class="n">rv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Click-7.0-py3.6.egg/click/core.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1137</span><span class="p">,</span> <span class="ow">in</span> <span class="n">invoke</span>
<span class="k">return</span> <span class="n">_process_result</span><span class="p">(</span><span class="n">sub_ctx</span><span class="o">.</span><span class="n">command</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">sub_ctx</span><span class="p">))</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Click-7.0-py3.6.egg/click/core.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">956</span><span class="p">,</span> <span class="ow">in</span> <span class="n">invoke</span>
<span class="k">return</span> <span class="n">ctx</span><span class="o">.</span><span class="n">invoke</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">callback</span><span class="p">,</span> <span class="o">**</span><span class="n">ctx</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Click-7.0-py3.6.egg/click/core.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">555</span><span class="p">,</span> <span class="ow">in</span> <span class="n">invoke</span>
<span class="k">return</span> <span class="n">callback</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Py_Rate-0.3.0.post3-py3.6.egg/pyrate/scripts/main.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">69</span><span class="p">,</span> <span class="ow">in</span> <span class="n">linrate</span>
<span class="n">run_pyrate</span><span class="o">.</span><span class="n">process_ifgs</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">dest_paths</span><span class="p">),</span> <span class="n">params</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Py_Rate-0.3.0.post3-py3.6.egg/pyrate/scripts/run_pyrate.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">391</span><span class="p">,</span> <span class="ow">in</span> <span class="n">process_ifgs</span>
<span class="n">_wrap_spatio_temporal_filter</span><span class="p">(</span><span class="n">ifg_paths</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">preread_ifgs</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Py_Rate-0.3.0.post3-py3.6.egg/pyrate/aps.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">63</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_wrap_spatio_temporal_filter</span>
<span class="n">spatio_temporal_filter</span><span class="p">(</span><span class="n">tsincr</span><span class="p">,</span> <span class="n">ifg</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">preread_ifgs</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Py_Rate-0.3.0.post3-py3.6.egg/pyrate/aps.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">86</span><span class="p">,</span> <span class="ow">in</span> <span class="n">spatio_temporal_filter</span>
<span class="n">ts_aps</span> <span class="o">=</span> <span class="n">mpiops</span><span class="o">.</span><span class="n">run_once</span><span class="p">(</span><span class="n">spatial_low_pass_filter</span><span class="p">,</span> <span class="n">ts_hp</span><span class="p">,</span> <span class="n">ifg</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Py_Rate-0.3.0.post3-py3.6.egg/pyrate/mpiops.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">54</span><span class="p">,</span> <span class="ow">in</span> <span class="n">run_once</span>
<span class="n">f_result</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Py_Rate-0.3.0.post3-py3.6.egg/pyrate/aps.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">192</span><span class="p">,</span> <span class="ow">in</span> <span class="n">spatial_low_pass_filter</span>
<span class="n">_interpolate_nans</span><span class="p">(</span><span class="n">ts_lp</span><span class="p">,</span> <span class="n">params</span><span class="p">[</span><span class="n">cf</span><span class="o">.</span><span class="n">SLPF_NANFILL_METHOD</span><span class="p">])</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Py_Rate-0.3.0.post3-py3.6.egg/pyrate/aps.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">208</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_interpolate_nans</span>
<span class="n">_interpolate_nans_2d</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/Py_Rate-0.3.0.post3-py3.6.egg/pyrate/aps.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">224</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_interpolate_nans_2d</span>
<span class="n">method</span><span class="o">=</span><span class="n">method</span>
<span class="n">File</span> <span class="s2">&quot;~/PyRateVenv/lib/python3.6/site-packages/scipy-1.3.0-py3.6-linux-x86_64.egg/scipy/interpolate/ndgriddata.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">226</span><span class="p">,</span> <span class="ow">in</span> <span class="n">griddata</span>
<span class="n">rescale</span><span class="o">=</span><span class="n">rescale</span><span class="p">)</span>
<span class="n">File</span> <span class="s2">&quot;interpnd.pyx&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">846</span><span class="p">,</span> <span class="ow">in</span> <span class="n">scipy</span><span class="o">.</span><span class="n">interpolate</span><span class="o">.</span><span class="n">interpnd</span><span class="o">.</span><span class="n">CloughTocher2DInterpolator</span><span class="o">.</span><span class="fm">__init__</span>
<span class="n">File</span> <span class="s2">&quot;qhull.pyx&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1836</span><span class="p">,</span> <span class="ow">in</span> <span class="n">scipy</span><span class="o">.</span><span class="n">spatial</span><span class="o">.</span><span class="n">qhull</span><span class="o">.</span><span class="n">Delaunay</span><span class="o">.</span><span class="fm">__init__</span>
<span class="n">File</span> <span class="s2">&quot;qhull.pyx&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">276</span><span class="p">,</span> <span class="ow">in</span> <span class="n">scipy</span><span class="o">.</span><span class="n">spatial</span><span class="o">.</span><span class="n">qhull</span><span class="o">.</span><span class="n">_Qhull</span><span class="o">.</span><span class="fm">__init__</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">No</span> <span class="n">points</span> <span class="n">given</span>
</pre></div>
</div>
<p><strong>Solution</strong>: Use more interferograms as input and/or reduce the threshold parameters <code class="docutils literal notranslate"><span class="pre">ts_pthr</span></code>, <code class="docutils literal notranslate"><span class="pre">pthr</span></code>, <code class="docutils literal notranslate"><span class="pre">tlpfpthr</span></code> in the configuration file.</p>
<p>In general, users are advised to input a network of small-baseline interferograms
that has at least 2 interferometric connections per SAR image epoch. Furthermore,
make sure that <code class="docutils literal notranslate"><span class="pre">ts_pthr</span></code>, <code class="docutils literal notranslate"><span class="pre">pthr</span></code> and <code class="docutils literal notranslate"><span class="pre">tlpfpthr</span></code> are smaller than the number
of image epochs. To check that <code class="docutils literal notranslate"><span class="pre">process</span></code> worked correctly, users can check that
the <code class="docutils literal notranslate"><span class="pre">tsincr_*.npy</span></code> and <code class="docutils literal notranslate"><span class="pre">tscuml*.npy</span></code> arrays in the <code class="docutils literal notranslate"><span class="pre">/&lt;outdir&gt;/tmpdir</span></code> contain numeric values and not NaNs.</p>
</div>
<div class="section" id="out-of-memory-errors">
<h2>Out of memory errors<a class="headerlink" href="#out-of-memory-errors" title="Permalink to this headline">¶</a></h2>
<p><strong>Problem</strong>: <cite>PyRate</cite> is memory intensive. You may receive various out of memory errors if there is not enough memory to accommodate the images being processed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">joblib</span><span class="o">.</span><span class="n">externals</span><span class="o">.</span><span class="n">loky</span><span class="o">.</span><span class="n">process_executor</span><span class="o">.</span><span class="n">TerminatedWorkerError</span><span class="p">:</span> <span class="n">A</span> <span class="n">worker</span> <span class="n">process</span> <span class="n">managed</span> <span class="n">by</span> <span class="n">the</span> <span class="n">executor</span> <span class="n">was</span> <span class="n">unexpectedly</span> <span class="n">terminated</span><span class="o">.</span> <span class="n">This</span> <span class="n">could</span> <span class="n">be</span> <span class="n">caused</span> <span class="n">by</span> <span class="n">a</span> <span class="n">segmentation</span> <span class="n">fault</span> <span class="k">while</span> <span class="n">calling</span> <span class="n">the</span> <span class="n">function</span> <span class="ow">or</span> <span class="n">by</span> <span class="n">an</span> <span class="n">excessive</span> <span class="n">memory</span> <span class="n">usage</span> <span class="n">causing</span> <span class="n">the</span> <span class="n">Operating</span> <span class="n">System</span> <span class="n">to</span> <span class="n">kill</span> <span class="n">the</span> <span class="n">worker</span><span class="o">.</span> <span class="n">The</span> <span class="n">exit</span> <span class="n">codes</span> <span class="n">of</span> <span class="n">the</span> <span class="n">workers</span> <span class="n">are</span> <span class="p">{</span><span class="n">EXIT</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">EXIT</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">EXIT</span><span class="p">(</span><span class="mi">1</span><span class="p">)}</span>
</pre></div>
</div>
<p><strong>Solution</strong>: Increase the amount of memory available. On HPC systems this can be done by increasing the value provided to the <code class="docutils literal notranslate"><span class="pre">mem</span></code> argument when submitting a PBS job, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mem</span><span class="o">=</span><span class="mi">32</span><span class="n">Gb</span>
</pre></div>
</div>
</div>
<div class="section" id="incorrect-modules-loaded-on-gadi">
<h2>Incorrect modules loaded on Gadi<a class="headerlink" href="#incorrect-modules-loaded-on-gadi" title="Permalink to this headline">¶</a></h2>
<p><strong>Problem</strong>: <cite>PyRate</cite> requires certain versions of Python, GDAL and Open MPI to be loaded on Gadi and other HPC systems. While sourcing the <cite>PyRate/scripts/nci_load_modules.sh</cite> script will load the correct modules, you may need to unload previously unloaded modules.</p>
<p>Example of errors caused by module conflicts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ERROR</span><span class="p">:</span><span class="mi">150</span><span class="p">:</span> <span class="n">Module</span> <span class="s1">&#39;python3/3.7.2&#39;</span> <span class="n">conflicts</span> <span class="k">with</span> <span class="n">the</span> <span class="n">currently</span> <span class="n">loaded</span> <span class="n">module</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="s1">&#39;python3/3.4.3-matplotlib&#39;</span>
<span class="n">ERROR</span><span class="p">:</span><span class="mi">150</span><span class="p">:</span> <span class="n">Module</span> <span class="s1">&#39;gdal/2.2.2&#39;</span> <span class="n">conflicts</span> <span class="k">with</span> <span class="n">the</span> <span class="n">currently</span> <span class="n">loaded</span> <span class="n">module</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="s1">&#39;gdal/2.0.0&#39;</span>
</pre></div>
</div>
<p><strong>Solution</strong>: Purge the loaded modules and source the <code class="docutils literal notranslate"><span class="pre">nci_load_modules.sh</span></code> script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="n">purge</span>
<span class="n">source</span> <span class="o">~/</span><span class="n">PyRate</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">nci_load_modules</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Geoscience Australia

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<p>placeHolderText</p>
        <!-- your html code here -->
 


</body>
</html>